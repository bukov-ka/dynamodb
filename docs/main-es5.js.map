{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/confirmation-dialog/confirmation-dialog.component.ts","webpack:///src/app/confirmation-dialog/confirmation-dialog.component.html","webpack:///src/app/gsi-solution/gsi-solution.component.ts","webpack:///src/app/gsi-solution/gsi-solution.component.html","webpack:///src/app/home/home.component.ts","webpack:///src/app/home/home.component.html","webpack:///src/app/live-sql/live-sql.component.ts","webpack:///src/app/live-sql/live-sql.component.html","webpack:///src/app/nav-menu/nav-menu.component.ts","webpack:///src/app/nav-menu/nav-menu.component.html","webpack:///src/app/query-run/query-run.component.ts","webpack:///src/app/query-run/query-run.component.html","webpack:///src/app/services/current-data.service.ts","webpack:///src/app/services/tasks-config.service.ts","webpack:///src/app/table-view/table-view.component.ts","webpack:///src/app/table-view/table-view.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","AppRoutingModule","forRoot","imports","AppComponent","title","selector","templateUrl","styleUrls","AppModule","declarations","providers","bootstrap","ConfirmationDialogComponent","dialogRef","message","close","onNoClick","GsiSolutionComponent","currentDataService","sortKey","updateSubscription","columnsUpdated","subscribe","m","primaryKey","columns","unsubscribe","_solutionRequested","solution","Config","solutionPrimaryKey","solutionSortKey","HomeComponent","LiveSqlComponent","route","taskConfigService","dialog","paramSubscription","params","itemId","getConfigById","config","processNewConfig","solutionRequested","sqlText","initialJoinSQL","resetData","callback","xlsxFile","tableCreationPromises","tableMapping","forEach","tableMappings","i","tableSelect","sheet","push","a","promise","tableData","table","err","console","error","all","ProcessSelectWithUnions","userSQL","unionReplaceRegEx","RegExp","splittedSQL","replace","split","self","promises","res","s","data","row","Data","setErrorState","resultError","open","width","afterClosed","result","solutionSQL","executeSQL","setTimeout","showSolutionSQL","NavMenuComponent","isExpanded","QueryRunComponent","resultKey","primaryKeyValue","sortKeyValue","descending","operator","limit","limitOptions","val","column","topExpression","descendingExpression","orderByExpression","sortKeyQuoted","length","undefined","includes","quoteValue","primaryKeyValueQuoted","sortKeyExpression","whereExpression","selectExpression","element","JSON","stringify","runConfig","success","expectedResult","actualResult","solutionKeyValues","toString","runQuery","CurrentDataService","content","Object","key","indexOf","_data","d","getColumns","next","_config","c","providedIn","TasksConfigService","http","items","getConfig","name","httpOptions","headers","get","pipe","TableViewComponent","environment","production","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LiveSqlComponent } from './live-sql/live-sql.component';\r\nimport { HomeComponent } from './home/home.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: HomeComponent },\r\n  { path: 'item/:id', component: LiveSqlComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'DynamoDB Trainer';\r\n}\r\n","<mat-toolbar color=\"primary\">\r\n  <mat-toolbar-row>\r\n    <button mat-icon-button>\r\n      <mat-icon (click)=\"sidenav.toggle()\">menu</mat-icon>\r\n    </button>\r\n  <h1>SQL to DynamoDB Transformation Trainer</h1>\r\n  </mat-toolbar-row>\r\n</mat-toolbar>\r\n<mat-sidenav-container>\r\n  <mat-sidenav #sidenav mode=\"side\" opened>\r\n    <mat-nav-list>\r\n      <app-nav-menu></app-nav-menu>      \r\n    </mat-nav-list>\r\n  </mat-sidenav>\r\n  <mat-sidenav-content>\r\n    <div>\r\n      <router-outlet></router-outlet>\r\n    </div>\r\n  </mat-sidenav-content>\r\n</mat-sidenav-container>","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatExpansionModule } from '@angular/material/expansion'\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { LiveSqlComponent } from './live-sql/live-sql.component';\r\nimport { TableViewComponent } from './table-view/table-view.component';\r\nimport { GsiSolutionComponent } from './gsi-solution/gsi-solution.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { NavMenuComponent } from './nav-menu/nav-menu.component';\r\nimport { QueryRunComponent } from './query-run/query-run.component';\r\nimport { ConfirmationDialogComponent } from './confirmation-dialog/confirmation-dialog.component';\r\nimport 'alasql';\r\nimport { HomeComponent } from './home/home.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LiveSqlComponent,\r\n    TableViewComponent,\r\n    GsiSolutionComponent,\r\n    NavMenuComponent,\r\n    QueryRunComponent,\r\n    ConfirmationDialogComponent,\r\n    HomeComponent\r\n  ],\r\n  imports: [\r\n    HttpClientModule,\r\n    BrowserModule,\r\n    FormsModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    MatInputModule,\r\n    MatFormFieldModule,\r\n    MatCheckboxModule,\r\n    MatSelectModule,\r\n    MatButtonModule,\r\n    MatTableModule,\r\n    MatExpansionModule,\r\n    MatIconModule,\r\n    MatDialogModule,\r\n    MatTooltipModule,\r\n    MatSidenavModule,\r\n    MatListModule,\r\n    MatToolbarModule,\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-confirmation-dialog',\r\n  templateUrl: './confirmation-dialog.component.html',\r\n  styleUrls: ['./confirmation-dialog.component.scss']\r\n})\r\nexport class ConfirmationDialogComponent {\r\n  constructor(\r\n    public dialogRef: MatDialogRef<ConfirmationDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public message: string) { }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","<div mat-dialog-content>\r\n    {{message}}\r\n   </div>\r\n   <div mat-dialog-actions>\r\n    <button mat-button [mat-dialog-close]=\"true\" cdkFocusInitial>Yes</button> \r\n    <button mat-button (click)=\"onNoClick()\">No</button>     \r\n</div>   ","import { Component, OnInit, Input } from '@angular/core';\r\nimport { CurrentDataService } from '../services/current-data.service';\r\nimport * as alasql from 'alasql';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-gsi-solution',\r\n  templateUrl: './gsi-solution.component.html',\r\n  styleUrls: ['./gsi-solution.component.scss']\r\n})\r\nexport class GsiSolutionComponent implements OnInit {\r\n  primaryKey: string;\r\n  sortKey: string = \"\";\r\n  updateSubscription: Subscription;\r\n  _solutionRequested: boolean;\r\n  get SolutionRequested(): boolean {\r\n    return this._solutionRequested;\r\n  }\r\n  @Input()\r\n  set SolutionRequested(solution: boolean) {\r\n    this._solutionRequested = solution;\r\n    if (solution) {\r\n      this.primaryKey = this.currentDataService.Config.solutionPrimaryKey;\r\n      this.sortKey = this.currentDataService.Config.solutionSortKey;\r\n    }\r\n  }\r\n\r\n  constructor(public currentDataService: CurrentDataService) {\r\n    this.updateSubscription = currentDataService.columnsUpdated.subscribe((m: Array<any>) => {\r\n      if (m == null) {\r\n        this.primaryKey = \"\";\r\n        this.sortKey = \"\";\r\n      }\r\n      else {\r\n        this.primaryKey = currentDataService.columns[0];\r\n        this.sortKey = \"\";\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy(): any {\r\n    this.updateSubscription.unsubscribe();\r\n  }\r\n}\r\n","<div *ngIf=\"currentDataService.Data\">\r\n<h3>Define a Global Secondary Index for the table</h3>\r\n<mat-form-field>\r\n    <mat-label>Primary Key</mat-label>\r\n    <mat-select  [(ngModel)]=\"primaryKey\" required name=\"primaryKey\">\r\n    <mat-option *ngFor=\"let column of currentDataService.columns\" [value]=\"column\">\r\n        {{column}}\r\n    </mat-option>\r\n    </mat-select>        \r\n</mat-form-field>\r\n\r\n<mat-form-field>\r\n    <mat-label>Sort Key</mat-label>\r\n    <mat-select [(ngModel)]=\"sortKey\" name=\"sortKey\">\r\n    <mat-option value=\"\">None</mat-option>\r\n    <mat-option *ngFor=\"let column of currentDataService.columns\" [value]=\"column\">\r\n        {{column}}\r\n    </mat-option>\r\n    </mat-select>\r\n</mat-form-field>\r\n<app-query-run [runConfig]=\"run\" \r\n*ngFor=\"let run of currentDataService.Config?.runs\"\r\n[primaryKey]=\"primaryKey\" [sortKey]=\"sortKey\"\r\n[SolutionRequested]=\"SolutionRequested\"></app-query-run>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"aboutText\">\r\n<h2>About</h2>\r\n<p>With this site you get DynamoDB knowledge and train yourself for designing DynamoDB structure. \r\nThis site contains set of tasks each of which requires you to migrate SQL DB to DynamoDB.</p>\r\n\r\n<p>The main problem with studying DynamoDB is moving from relation-based paradigm to action-based paradigm.\r\nEven similar relational databases can be migrated to very different DynamoDB bases because they are used differently.\r\nWe saw the same in relational DBs when a 'Full Name' field could be totally fine in one DB but the same field could violate the first normal form in another DB (if we use it to get a last name from it).</p>\r\n\r\n<p>That is why each task contain not only SQL DB scheme and data itself, but list of actions to be implemented.\r\nAll of the actions should be fulfilled by using only one single Global Secondary Index Query.</p>\r\n\r\n<p>To form DynamoDB table you will use SQL which is a natural language designed for denormalization relational databased.\r\n<a href=\"http://alasql.org/\">Alasql</a> is used as the SQL engine. It is pretty close to usual SQL, but it is case sensitive and supports union of sets with different attributes which is closer to Dynamodb.</p>\r\n\r\n<p>Solution of each task will require:</p>\r\n<ol>\r\n    <li>Creating SQL to transform SQL DB to DynamoDB data.</li>\r\n    <li>Defining fields for Primary Key and Sort Key (optional).</li>\r\n    <li>Setting query parameters for each task which will produce the desired output.</li>\r\n</ol>\r\n\r\n<p>Each task has sample solution. You can see it by clicking at the Solution button(<mat-icon>visibility</mat-icon>).\r\nBut do not press it until you tried to find a solution yourself!</p>\r\n\r\n<p>If you have any questions or if you find any issues please do not hesitate to contact me: \r\n<a href=\"mailto:borisovke@gmail.com?subject=DynamoSQL\">Konstantin Borisov</a>.</p>\r\n\r\n<h2>Additional Materials</h2>\r\n<ul>\r\n    <li><a href=\"https://www.youtube.com/watch?v=jzeKPKpucS0\">AWS re:Invent 2017: [REPEAT] Advanced Design Patterns for Amazon DynamoDB. by Rick Houlihan</a></li>\r\n    <li><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/bp-relational-modeling.html\">Best Practices for Modeling Relational Data in DynamoDB</a></li>\r\n    <li><a href=\"https://www.dynamodbguide.com/data-modeling-overview\">Data Modeling Examples</a></li>    \r\n</ul>\r\n</div>\r\n\r\n<p class=\"separateParagraph\">And now you can start the training: <a [routerLink]=\"['/item/1']\">The first challenge</a>.</p>","import { Component, OnInit, ɵCompiler_compileModuleSync__POST_R3__ } from '@angular/core';\r\nimport { CurrentDataService } from '../services/current-data.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { TasksConfigService } from '../services/tasks-config.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ConfirmationDialogComponent } from '../confirmation-dialog/confirmation-dialog.component';\r\nimport alasql from 'alasql';\r\n\r\n\r\n@Component({\r\n  selector: 'app-live-sql',\r\n  templateUrl: './live-sql.component.html',\r\n  styleUrls: ['./live-sql.component.scss'],\r\n  providers: [CurrentDataService]\r\n})\r\nexport class LiveSqlComponent implements OnInit {\r\n\r\n  sqlText: string;\r\n  solutionRequested: boolean;\r\n\r\n  private paramSubscription: Subscription;\r\n  constructor(public currentDataService: CurrentDataService,\r\n    private route: ActivatedRoute,\r\n    private taskConfigService: TasksConfigService,\r\n    public dialog: MatDialog,\r\n  ) {\r\n    this.paramSubscription = route.params.subscribe(params => {\r\n      var itemId = params['id'];\r\n      taskConfigService.getConfigById(itemId).subscribe(config => {\r\n        this.currentDataService.Config = config;\r\n        this.processNewConfig();\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  processNewConfig() {\r\n    this.solutionRequested = false; // No solution by default\r\n    var config = this.currentDataService.Config;\r\n    this.sqlText = config.initialJoinSQL;    \r\n    this.currentDataService.resetData();\r\n    \r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy(): any {\r\n    this.paramSubscription.unsubscribe();\r\n  }\r\n\r\n  executeSQL(callback?: () => void): void {\r\n    let config = this.currentDataService.Config;\r\n    let xlsxFile = config.xlsxFile;\r\n    var tableCreationPromises = [];\r\n    config.tableMapping.forEach((tableMappings, i) => { // Select all the tables in the database\r\n      let tableSelect = `select * from XLSX(\\\"assets/data/${xlsxFile}\\\",  {sheetid:'${tableMappings.sheet}',headers:true});`;\r\n      tableCreationPromises.push(\r\n        alasql.promise(tableSelect).then(tableData => {\r\n          alasql(`DROP TABLE IF EXISTS ${tableMappings.table}`);\r\n          alasql(`CREATE TABLE ${tableMappings.table}`);\r\n          alasql(`SELECT * INTO ${tableMappings.table} FROM ?`, [tableData]);\r\n        })\r\n          .catch(function (err) {\r\n            // Here we can't get any user errors. Only internal errors are possible\r\n            console.error(\"Error getting table data: \", err);\r\n          })\r\n      );\r\n    });\r\n\r\n    // Wait for all the tables created\r\n    Promise.all(tableCreationPromises).then(() =>\r\n      this.ProcessSelectWithUnions(this.sqlText, callback)\r\n    );\r\n\r\n  }\r\n\r\n  private ProcessSelectWithUnions(userSQL: string, callback?: () => void): void {\r\n    let unionReplaceRegEx = new RegExp(`(union all|union)`, \"ig\");\r\n    var splittedSQL = userSQL.replace(unionReplaceRegEx, '@').split('@'); // split the query by any 'union' clause    \r\n    let self = this;\r\n    var promises = [];\r\n    var res = [];\r\n    splittedSQL.forEach(s => {\r\n      promises.push(alasql.promise(s)\r\n        .then(function (data) {\r\n          data.forEach((row) => res.push(row)); // Push each row to the resulting table\r\n          self.currentDataService.Data = data;\r\n        }).catch(function (err) {\r\n          self.currentDataService.setErrorState(err);\r\n          console.error(self.currentDataService.resultError);\r\n        }));\r\n    });\r\n    Promise.all(promises).then(() => {\r\n      self.currentDataService.Data = res;\r\n      if(callback) { // Perform any post data\r\n        callback();\r\n      }\r\n    });\r\n  }\r\n\r\n  showSolutionSQL() {\r\n    const dialogRef = this.dialog.open(ConfirmationDialogComponent, {\r\n      width: '350px',\r\n      data: \"You will get complete SQL and will lost an opportunity to solve it all by yourself. Ok?\"\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        this.sqlText = this.currentDataService.Config.solutionSQL;\r\n        this.executeSQL(()=>\r\n          {\r\n          this.solutionRequested = false; // Reset the value to rerun the fields update\r\n          setTimeout(() => {\r\n            this.solutionRequested = true;\r\n          }, 100);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","<h1 *ngIf=\"currentDataService.Config\">{{currentDataService.Config.name}}</h1>\r\n<div *ngIf=\"currentDataService.Config\" class=\"schemaBlockWrapper\">\r\n    <div  class=\"dbSchemeImage\">\r\n        <img [src]=\"'assets/' + currentDataService.Config.schemaPic\">    \r\n    </div>\r\n    <div>\r\n        <h3 class=\"actionsHeader\">Actions:</h3>\r\n        <ul>\r\n            <li *ngFor=\"let action of currentDataService.Config.actionsDescription\">{{action}}</li>\r\n        </ul>\r\n    </div>\r\n</div>\r\n\r\n<mat-form-field style=\"width: 75%; scroll-behavior: auto;\">\r\n<textarea matInput\r\ncdkTextareaAutosize\r\n[(ngModel)]=\"sqlText\"\r\n placeholder=\"Enter SQL query\"></textarea>\r\n</mat-form-field>\r\n<button mat-icon-button (click)=\"showSolutionSQL()\">\r\n    <mat-icon matTooltip=\"See solution\">visibility</mat-icon>\r\n</button>\r\n <br/>\r\n<button mat-flat-button mat-button color=\"primary\"\r\nmatTooltip=\"Run SQL and see results\"\r\n(click)=\"executeSQL()\">Run SQL</button>\r\n<br/>\r\n<font color=\"red\"\r\n*ngIf=\"currentDataService.resultError\"\r\n>\r\n<br>\r\n{{currentDataService.resultError}}\r\n</font>\r\n<br>\r\n\r\n<app-table-view \r\n    *ngIf=\"currentDataService.Data\"\r\n    [content]=\"currentDataService.Data\"></app-table-view>\r\n<app-gsi-solution [SolutionRequested]=\"solutionRequested\"></app-gsi-solution>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-nav-menu',\r\n  templateUrl: './nav-menu.component.html',\r\n  styleUrls: ['./nav-menu.component.scss']\r\n})\r\nexport class NavMenuComponent implements OnInit {\r\n\r\n  constructor() { \r\n    \r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  isExpanded = false;\r\n\r\n  collapse() {\r\n    this.isExpanded = false;\r\n  }\r\n\r\n  toggle() {\r\n    this.isExpanded = !this.isExpanded;\r\n  }\r\n}\r\n","<ol>    \r\n    <mat-list-item [routerLink]=\"['/item/1']\"><li>Aggregates</li></mat-list-item>\r\n    <mat-list-item [routerLink]=\"['/item/2']\"><li>One-To-Many</li></mat-list-item>\r\n    <mat-list-item [routerLink]=\"['/item/3']\"><li>Many-To-Many</li></mat-list-item>\r\n    <mat-list-item [routerLink]=\"['/item/4']\"><li>Hierarchical Queries</li></mat-list-item>\r\n    <mat-list-item [routerLink]=\"['/item/5']\"><li>Leaderboard</li></mat-list-item>\r\n    <mat-list-item [routerLink]=\"['/item/6']\"><li>Sparse Index</li></mat-list-item>\r\n</ol>\r\n<hr>\r\n<mat-list-item [routerLink]=\"['/']\"> About </mat-list-item>","import { Component, OnInit, Input } from '@angular/core';\r\nimport * as alasql from 'alasql';\r\nimport { CurrentDataService } from '../services/current-data.service';\r\nimport { RunConfig } from '../shared/models/run_config';\r\nimport { element } from 'protractor';\r\n\r\n@Component({\r\n  selector: 'app-query-run',\r\n  templateUrl: './query-run.component.html',\r\n  styleUrls: ['./query-run.component.scss']\r\n})\r\nexport class QueryRunComponent implements OnInit {\r\n\r\n  @Input() primaryKey: string;\r\n  @Input() sortKey: string;\r\n  @Input()\r\n  public runConfig: RunConfig;\r\n\r\n  resultError: string = null;\r\n  resultKey: string = \"\";\r\n  primaryKeyValue: string = \"\";\r\n  sortKeyValue: string = \"\";\r\n  descending: boolean = false;\r\n  operator: string = \"=val\";\r\n  limit: string = \"\";\r\n  limitOptions: { val: string, title: string }[] = [\r\n    { \"val\": \"\", \"title\": \"None\" },\r\n    { \"val\": \"1\", \"title\": \"1\" },\r\n    { \"val\": \"3\", \"title\": \"3\" },\r\n    { \"val\": \"10\", \"title\": \"10\" },\r\n  ];\r\n  success: boolean;\r\n  expectedResult: string; // What we expect from the run\r\n  actualResult: string; // What we got from the run\r\n  _solutionRequested: boolean;\r\n  get SolutionRequested(): boolean {\r\n    return this._solutionRequested;\r\n  }\r\n  @Input()\r\n  set SolutionRequested(solution: boolean) {\r\n    this._solutionRequested = solution;\r\n    if (solution) {\r\n      this.primaryKeyValue = this.runConfig.solutionKeyValues.primaryKeyValue;\r\n      this.sortKeyValue = this.runConfig.solutionKeyValues.sortKeyValue;\r\n      this.descending = this.runConfig.solutionKeyValues.descending ?? false;\r\n      this.operator = this.runConfig.solutionKeyValues.operator;\r\n      this.limit = this.runConfig.solutionKeyValues.limit ? this.runConfig.solutionKeyValues.limit.toString() : undefined;\r\n      this.resultKey = this.runConfig.solutionKeyValues.resultKey;\r\n    }\r\n  }\r\n  constructor(public currentDataService: CurrentDataService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  // Put quotes around string values\r\n  quoteValue(val: any, column: string): string {\r\n    var result = typeof (val) == 'string'\r\n      ? `\\\"${val}\\\"` : val;\r\n    return result;\r\n  }\r\n\r\n  runQuery() {\r\n    this.resultError = null;\r\n    let self = this;\r\n    let topExpression = this.limit ? `top ${this.limit}` : \"\";\r\n    let descendingExpression = this.descending ? 'desc' : 'asc'\r\n    let orderByExpression = this.sortKey ?\r\n      `order by ${this.sortKey} ${descendingExpression}, ${this.primaryKey}`\r\n      : `order by ${this.primaryKey}`;\r\n    let sortKeyQuoted = this.sortKeyValue;\r\n    if (this.currentDataService.Data.length > 0 && (!this.sortKey == undefined || this.operator == undefined || !this.operator.includes('LIKE'))) {\r\n      sortKeyQuoted = this.quoteValue(this.sortKeyValue, this.sortKey);\r\n    }\r\n    let primaryKeyValueQuoted = this.quoteValue(this.primaryKeyValue, this.primaryKey);\r\n    let sortKeyExpression = `${this.sortKey} ${this.operator}`.replace(/val/gi, sortKeyQuoted);\r\n    let whereExpression = this.sortKey ?\r\n      `where  ${this.primaryKey} = ${primaryKeyValueQuoted} AND ${sortKeyExpression}`\r\n      : `where  ${this.primaryKey} = ${primaryKeyValueQuoted}`;\r\n    let selectExpression = `select ${topExpression} * from ? data \\\r\n    ${whereExpression} \\\r\n    ${orderByExpression} `;\r\n    alasql.default.promise(selectExpression, [this.currentDataService.Data])\r\n      .then(function (data) {\r\n        var res = [];\r\n        data.forEach(element => {\r\n          res.push(element[self.resultKey]);\r\n        });\r\n        if (JSON.stringify(res) == JSON.stringify(self.runConfig.result)) {\r\n          self.success = true;\r\n        }\r\n        else {\r\n          self.success = false;\r\n          self.expectedResult = JSON.stringify(self.runConfig.result);\r\n          self.actualResult = JSON.stringify(res);\r\n        }\r\n      }).catch(function (err) {\r\n        self.resultError = err;\r\n        console.error(err);\r\n      });\r\n  }\r\n}\r\n","<hr>\r\n<mat-expansion-panel [expanded]=\"true\" #panel class=\"mat-elevation-z8\">\r\n    <mat-expansion-panel-header>\r\n        <mat-panel-title>\r\n            {{runConfig.name}}\r\n        </mat-panel-title>\r\n        <mat-panel-description>\r\n            {{runConfig.description}}\r\n        </mat-panel-description>\r\n    </mat-expansion-panel-header>\r\n    <form #f=\"ngForm\">\r\n        <mat-form-field>\r\n            <mat-label>Primary Key Value</mat-label>\r\n            <input matInput type=\"text\" required [(ngModel)]=\"primaryKeyValue\" name=\"primaryKeyValue\">\r\n        </mat-form-field>\r\n        <br>\r\n\r\n        <mat-form-field *ngIf=\"sortKey\">\r\n            <mat-label>Sort Key Value</mat-label>\r\n            <input matInput type=\"text\" [(ngModel)]=\"sortKeyValue\" name=\"sortKeyValue\">\r\n        </mat-form-field>\r\n\r\n        <mat-form-field *ngIf=\"sortKey\">\r\n            <mat-label>Operator</mat-label>\r\n            <mat-select style=\"width:64px\" [(ngModel)]=\"operator\" name=\"operator\">\r\n                <mat-option value=\"=val\">=</mat-option>\r\n                <mat-option value=\"&gt;val\">&gt;</mat-option>\r\n                <mat-option value=\"&gt;=val\">&gt;=</mat-option>\r\n                <mat-option value=\"&lt;val\">&lt;</mat-option>\r\n                <mat-option value=\"&lt;=val\">&lt;=</mat-option>\r\n                <mat-option value=' LIKE \"val%\" '>begins_with()</mat-option>\r\n            </mat-select>\r\n        </mat-form-field>\r\n\r\n        <mat-checkbox matInput type=\"checkbox\" *ngIf=\"sortKey\" [(ngModel)]=\"descending\" name=\"descending\">Descending\r\n        </mat-checkbox>\r\n        <br>\r\n        <mat-form-field>\r\n            <mat-label>Limit</mat-label>\r\n            <mat-select [(ngModel)]=\"limit\" name=\"limit\">\r\n                <mat-option *ngFor=\"let l of limitOptions\" [value]=\"l.val\">{{l.title}}</mat-option>\r\n            </mat-select>\r\n        </mat-form-field>\r\n        <br>\r\n        <mat-form-field>\r\n            <mat-label>Result Key</mat-label>\r\n            <mat-select [(ngModel)]=\"resultKey\" name=\"resultKey\" required>\r\n                <mat-option *ngFor=\"let column of currentDataService.columns\" [value]=\"column\">\r\n                    {{column}}\r\n                </mat-option>\r\n            </mat-select>\r\n        </mat-form-field>\r\n        <br>\r\n        <font color=\"red\" *ngIf=\"resultError\">\r\n            {{resultError}}\r\n        </font>\r\n        <br>\r\n        <div>\r\n            <button mat-flat-button mat-button color=\"primary\" class=\"vcentered\" style=\"vertical-align: middle;\"\r\n                [disabled]=\"f.invalid\" (click)=runQuery() matTooltip=\"Run the query and check the result\">Query</button>\r\n            <mat-icon class=\"vcentered\" color=\"primary\" *ngIf=\"success\">check_circle</mat-icon>\r\n            <font color=\"primary\" *ngIf=\"success && success!=undefined\">\r\n                Correct!\r\n            </font>\r\n            <mat-icon class=\"vcentered result-icon\" color=\"error\" *ngIf=\"!success && success!=undefined\">error\r\n            </mat-icon>\r\n            <font color=\"red\" *ngIf=\"!success && success!=undefined\">\r\n                Expected result is \"{{expectedResult}}\" and we got \"{{actualResult}}\".\r\n            </font>\r\n        </div>\r\n    </form>\r\n</mat-expansion-panel>","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { TaskConfig } from '../shared/models/task_config';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CurrentDataService {\r\n  \r\n  constructor() { }\r\n  public columnsUpdated : Subject<Array<any>> = new Subject<Array<any>>();\r\n\r\n  public columns: Array<string>;\r\n  public resultError: string;\r\n\r\n  private _data: Array<any>;\r\n  public get Data(): Array<any>{\r\n    return this._data;\r\n  }\r\n  public set Data(d: Array<any>){\r\n    this._data = d;\r\n    if(d != null)\r\n    {\r\n      this.columns = this.getColumns(d);\r\n      this.resultError = null;\r\n    }\r\n    else\r\n    {\r\n      this.columns = null;\r\n    }\r\n    this.columnsUpdated.next(d);\r\n  }\r\n\r\n  private _config: TaskConfig;\r\n  public get Config(): TaskConfig{\r\n    return this._config;\r\n  }\r\n  public set Config( c: TaskConfig){\r\n     this._config = c;\r\n  }\r\n\r\n  getColumns(content:Array<any>):Array<string> {\r\n    let columns:Array<string>=[];\r\n    if(!content) return columns;\r\n    content.forEach(row=>\r\n      {\r\n        Object.keys(row).forEach(key=>{\r\n          if(columns.indexOf(key)<0)\r\n          {\r\n            columns.push(key);\r\n          }\r\n        });\r\n    });\r\n    return columns;\r\n  }\r\n\r\n  setErrorState(error:string){\r\n    this.Data = null;\r\n    this.resultError = error;\r\n    this.columns = null;\r\n  }\r\n\r\n  resetData(){\r\n    this.Data = null;\r\n    this.resultError = null;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Observable, EMPTY, throwError } from 'rxjs';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { TaskConfig } from '../shared/models/task_config';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TasksConfigService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getConfigById(id: number): Observable<TaskConfig> {\r\n    var items = [\"\", \"simple\", \"one-to-many\", \"many-to-many\", \"hierarchical-queries\", \"leaderboard\", \"sparse\"];\r\n    return this.getConfig(items[id]);\r\n  }\r\n  private getConfig(name: string): Observable<TaskConfig> {\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n      })\r\n    };\r\n\r\n    return this.http.get<TaskConfig>('assets/' + name + '.json', httpOptions)\r\n      .pipe(\r\n        catchError(err => {\r\n          return throwError(err);\r\n        }\r\n        )\r\n      );\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { CurrentDataService } from '../services/current-data.service';\r\n\r\n@Component({\r\n  selector: 'app-table-view',\r\n  templateUrl: './table-view.component.html',\r\n  styleUrls: ['./table-view.component.scss']\r\n})\r\nexport class TableViewComponent implements OnInit {\r\n  constructor(private currentDataService: CurrentDataService) { }\r\n  @Input()\r\n  public content: Array<any>;\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getColumns(): Array<string> {\r\n    return this.currentDataService.getColumns(this.content);\r\n  }\r\n\r\n}\r\n","<mat-expansion-panel [expanded]=\"true\" #panel  class=\"mat-elevation-z8\">\r\n  <mat-expansion-panel-header>\r\n    <mat-panel-title>      \r\n      Data\r\n    </mat-panel-title>\r\n    <mat-panel-description>\r\n      Result of executing the SQL query which represents content of DynamoSQL\r\n    </mat-panel-description>\r\n  </mat-expansion-panel-header> \r\n<mat-table mat-table [dataSource]=\"content\">\r\n    <ng-container *ngFor=\"let col of getColumns()\" [matColumnDef]=\"col\">\r\n        <mat-header-cell *matHeaderCellDef>{{col}}</mat-header-cell>\r\n        <mat-cell *matCellDef=\"let element\"> {{element[col]}}</mat-cell>\r\n      </ng-container>\r\n    <mat-header-row  *matHeaderRowDef=\"getColumns()\"></mat-header-row >\r\n    <mat-row *matRowDef=\"let row; columns: getColumns();\">        \r\n    </mat-row>\r\n</mat-table>\r\n</mat-expansion-panel>","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"]}